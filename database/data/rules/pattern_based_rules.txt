generate_patterns
apply_template
substitute_characters
